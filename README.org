#+TITLE: NixOS configuration

* Installation
#+begin_src sh
cd ~/.config
git clone https://github.com/fortuneteller2k/nix-config
sudo ln -sf ~/.config/nix-config /etc/nixos
sudo nixos-rebuild switch
#+end_src

#+RESULTS:

* Description
NixOS configuration that I use daily, it contains the system-wide *AND* home configuration, symlinked to =/etc/nixos=

See also:
 * [[https://github.com/nix-community/home-manager][home-manager]]
 * [[https://nixos.wiki/wiki/Flakes][flakes]]
 * [[https://app.cachix.org/cache/nix-community][cachix]]

Resources and configurations I used to base on:
 * [[https://github.com/hlissner/dotfiles][hlissner/dotfiles]]
 * [[https://github.com/colemickens/nixos-flake-example][colemickens/nixos-flake-example]]
 * [[https://github.com/nrdxp/nixflk][nrdxp/nixflk]]
 * [[https://git.sr.ht/~dunklecat/nixos-config/tree/master/flake.nix][dunklecat/nixos-config]]
 * [[https://www.youtube.com/watch?v=UeBX7Ide5a0][Nix Flakes talk by Eelco Dolstra on NixCon]]

** Useful Commands
| command                               | description                             |
|---------------------------------------+-----------------------------------------|
| =sudo nixos-rebuild switch=             | update and switch to the new generation |
| =nix flake update --update-input flake= | update flake and update lockfile        |
| =nix flake update --recreate-lock-file= | update all flakes and update lockfile   |
